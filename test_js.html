<!DOCTYPE html>
<html>
<head>
    <title>Test API</title>
</head>
<body>
    <h1>API Test</h1>
    <button onclick="testMinimalAPI()">Test Minimal API</button>
    <button onclick="testMainAPI()">Test Main API</button>
    <button onclick="testDebugAPI()">Test Debug API</button>
    <button onclick="testExactAPI()">Test Exact Copy</button>
    <button onclick="testOriginalAPI()">Test Original API</button>
    <div id="result" style="margin-top: 20px; padding: 10px; background: #f0f0f0;"></div>

    <script>
        async function testMinimalAPI() {
            const testData = {
                name: 'Test Asset',
                status: 'available'
            };

            try {
                const response = await fetch('./test_minimal_api.php', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testData)
                });

                console.log('Minimal API - Response status:', response.status);

                const responseText = await response.text();
                console.log('Minimal API - Raw response:', responseText);

                document.getElementById('result').innerHTML =
                    '<h3>Minimal API Result</h3>' +
                    '<p>Status: ' + response.status + '</p>' +
                    '<p>Response: ' + responseText + '</p>';

            } catch (error) {
                console.error('Minimal API error:', error);
                document.getElementById('result').innerHTML =
                    '<h3>Minimal API Error</h3>' +
                    '<p>Error: ' + error.message + '</p>';
            }
        }

        async function testMainAPI() {
            const testData = {
                asset_id: '1',
                name: 'Test Asset Update',
                status: 'available',
                condition_status: 'good'
            };

            try {
                const response = await fetch('./api/assets.php?id=1', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testData)
                });

                console.log('Main API - Response status:', response.status);

                const responseText = await response.text();
                console.log('Main API - Raw response:', responseText);

                document.getElementById('result').innerHTML =
                    '<h3>Main API Result</h3>' +
                    '<p>Status: ' + response.status + '</p>' +
                    '<p>Response: ' + responseText + '</p>';

            } catch (error) {
                console.error('Main API error:', error);
                document.getElementById('result').innerHTML =
                    '<h3>Main API Error</h3>' +
                    '<p>Error: ' + error.message + '</p>';
            }
        }

        async function testDebugAPI() {
            const testData = {
                asset_id: '1',
                name: 'Debug Test Asset',
                status: 'available',
                condition_status: 'good'
            };

            try {
                const response = await fetch('./api/debug_assets.php?id=1', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testData)
                });

                console.log('Debug API - Response status:', response.status);

                const responseText = await response.text();
                console.log('Debug API - Raw response:', responseText);

                document.getElementById('result').innerHTML =
                    '<h3>Debug API Result</h3>' +
                    '<p>Status: ' + response.status + '</p>' +
                    '<pre style="background: white; padding: 10px; border: 1px solid #ccc;">' + responseText + '</pre>';

            } catch (error) {
                console.error('Debug API error:', error);
                document.getElementById('result').innerHTML =
                    '<h3>Debug API Error</h3>' +
                    '<p>Error: ' + error.message + '</p>';
            }
        }

        async function testExactAPI() {
            const testData = {
                asset_id: '1',
                name: 'Exact Test Asset',
                status: 'available',
                condition_status: 'good'
            };

            try {
                const response = await fetch('./api/exact_test.php?id=1', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testData)
                });

                console.log('Exact API - Response status:', response.status);

                const responseText = await response.text();
                console.log('Exact API - Raw response:', responseText);

                document.getElementById('result').innerHTML =
                    '<h3>Exact Copy API Result</h3>' +
                    '<p>Status: ' + response.status + '</p>' +
                    '<p>Response: ' + responseText + '</p>';

            } catch (error) {
                console.error('Exact API error:', error);
                document.getElementById('result').innerHTML =
                    '<h3>Exact Copy API Error</h3>' +
                    '<p>Error: ' + error.message + '</p>';
            }
        }

        async function testOriginalAPI() {
            const testData = {
                asset_id: '1',
                name: 'Original Test Asset',
                status: 'available',
                condition_status: 'good'
            };

            try {
                const response = await fetch('./api/assets.php?id=1', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testData)
                });

                console.log('Original API - Response status:', response.status);

                const responseText = await response.text();
                console.log('Original API - Raw response:', responseText);

                document.getElementById('result').innerHTML =
                    '<h3>Original API Result</h3>' +
                    '<p>Status: ' + response.status + '</p>' +
                    '<p>Response: ' + responseText + '</p>';

            } catch (error) {
                console.error('Original API error:', error);
                document.getElementById('result').innerHTML =
                    '<h3>Original API Error</h3>' +
                    '<p>Error: ' + error.message + '</p>';
            }
        }
    </script>
</body>
</html>